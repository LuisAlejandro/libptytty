prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
libdir = @libdir@
includedir = @includedir@
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL@ -m 755
INSTALL_DATA = @INSTALL@ -m 644
SHELL = @SHELL@
CXX = @CXX@
LIBTOOL = @LIBTOOL@
CXXFLAGS = @CXXFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@
COMPILE = $(CXX) $(CPPFLAGS) $(CXXFLAGS) -I.
LINK = $(CXX) $(LDFLAGS)

srcdir =	@srcdir@
VPATH =		@srcdir@
.PATH:		@srcdir@

top_builddir = ..
basedir = ..
thisdir = src

.SUFFIXES: .lo

#-------------------------------------------------------------------------
# inference rules
.C.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

#-------------------------------------------------------------------------

all: allbin

libptytty_objects = ptytty.lo proxy.lo logging.lo fdpass.lo c-api.lo

libptytty.la: $(libptytty_objects)
	$(LIBTOOL) --mode=link $(LINK) -rpath $(libdir) -o $@ $(libptytty_objects)

#-------------------------------------------------------------------------

tags: *.[Ch]
	ctags *.[Ch]

TAGS: *.[Ch]
	etags *.[Ch]

allbin: libptytty.la

alldoc:

clean:
	rm -rf *.o *.lo *.la .libs

realclean: clean
	rm -f tags TAGS

cleandir: realclean

distclean: realclean
	(cd $(srcdir); rm -f Makefile)

install: allbin
	$(INSTALL) -d $(DESTDIR)$(libdir)
	$(LIBTOOL) --mode=install $(INSTALL_PROGRAM) libptytty.la $(DESTDIR)/$(libdir)
	$(INSTALL) -d $(DESTDIR)$(includedir)
	$(INSTALL_DATA) libptytty.h $(DESTDIR)/$(includedir)

depend:
	makedepend -f Makefile.in -I. -Y *.C >/dev/null 2>&1
	makedepend -f Makefile.in -I. -Y *.C -a -o .lo >/dev/null 2>&1

# DO NOT DELETE: nice dependency list follows

c-api.o: ../config.h ptytty.h libptytty.h ptytty_conf.h
fdpass.o: ../config.h libptytty.h
logging.o: ../config.h ptytty.h libptytty.h ptytty_conf.h
proxy.o: ../config.h ptytty.h libptytty.h ptytty_conf.h
ptytty.o: ../config.h ptytty.h libptytty.h ptytty_conf.h

c-api.lo: ../config.h ptytty.h libptytty.h ptytty_conf.h
fdpass.lo: ../config.h libptytty.h
logging.lo: ../config.h ptytty.h libptytty.h ptytty_conf.h
proxy.lo: ../config.h ptytty.h libptytty.h ptytty_conf.h
ptytty.lo: ../config.h ptytty.h libptytty.h ptytty_conf.h
